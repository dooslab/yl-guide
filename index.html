<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YLYL.CO.KR 제품 사용설명서</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <!-- <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script> -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/moonspam/NanumSquare@2.0/nanumsquare.css">

    <style>
        body		{ font-family: 'NanumSquare', sans-serif }
        .normal		{ font-weight: 400 }
        .bold		{ font-weight: 700 }
        .bolder		{ font-weight: 800 }
        .light		{ font-weight: 300 }
        #openSidebar {
            vertical-align: bottom;
            border: 1px solid #cdcdcd;
            border-radius: 2px;
            height: 26px;
        }
        #headerTitle {
            font-size: 17px;
            letter-spacing: 1px;
        }
        #currentModel {
            letter-spacing: -0.8px;
            text-align: center;
            background: #e3e3e3;
            padding-top: 8px;
            padding-bottom: 6px;
        }
        #imageContainer img {
            width: 100%;
        }
        #modelLink {
            text-align: right;
        }
        #modelLink a { 
            padding: 6px 12px;
            border-radius: 3px;
            font-weight: bold;
            display: inline-block;
        }
        .model-code {
            font-weight: 600;
            font-size: 12px; 
            background: #e3e3e3;
            line-height: 18px;
            border-radius: 2px;
            color: #000000;
            text-align: center;
            min-width: 65px;
            display: inline-block;
            margin-right: 5px;
        }
        .model-name {
            font-size: 13px;
            line-height: 14px;
        }
        main {
            max-width: 960px;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex min-h-screen">
        <!-- 왼쪽 사이드바 -->
        <div id="sidebar" class="w-64 bg-white shadow-lg transform -translate-x-full md:translate-x-0 transition-transform duration-300 fixed h-full">
            <!-- 모바일 닫기 버튼 -->
            <div class="flex justify-between items-center p-4 border-b">
                <h2 class="text-xl font-semibold w-full text-center">모델 목록</h2>
                <button id="closeSidebar" class="md:hidden text-gray-500 hover:text-gray-700 absolute right-4">
                    <i class='bx bx-x text-2xl'></i>
                </button>
            </div>
            <!-- 검색창 -->
            <div class="p-4">
                <div class="relative">
                    <input 
                        id="modelSearch" 
                        type="text" 
                        class="w-full px-4 py-1 border border-gray-500 rounded focus:outline-none focus:border-blue-500" 
                        placeholder="모델 검색...">
                    <i class='bx bx-search absolute right-3 top-2.5 text-gray-400 '></i>
                </div>
            </div>
            <!-- 모델 리스트 -->
            <ul id="modelList" class="overflow-y-auto">
                <!-- 동적으로 생성됨 -->
            </ul>
        </div>

        <!-- 메인 컨텐츠 영역 -->
        <div class="flex-1 md:ml-64">
            <!-- 상단 헤더 -->
            <header class="bg-white shadow-sm p-4 flex items-center">
                <button id="openSidebar" class="md:hidden mr-4 text-gray-500 hover:text-gray-700">
                    <i class='bx bx-menu text-2xl'></i>
                </button>
                <h1 id="headerTitle" class="text-xl font-semibold"><a href="https://shop.coupang.com/A01359325" target="_blank">YLYL.CO.KR</a> 제품 사용설명서<span></span></h1>
            </header>

            <!-- 이미지 표시 영역 -->
            <main class="p-6">
                <div id="currentModel" class="title text-xl font-bold mb-4"></div>
                <div id="modelLink" class="text-sm text-gray-500 mb-4 hidden"></div>
                <div id="imageContainer" class="grid gap-6">
                    <!-- 이미지들이 여기에 동적으로 로드됩니다 -->
                </div>
            </main>
        </div>
    </div> 
    <script>
        $(document).ready(function() {
            // 사이드바 토글 기능
            $('#openSidebar').click(function() {
                $('#sidebar').removeClass('-translate-x-full');
            });

            $('#closeSidebar').click(function() {
                $('#sidebar').addClass('-translate-x-full');
            });

            // 모델 데이터
            const modelItems = [
                {
                    name: 'YL-HF10 [ 저소음 손 선풍기 ]',
                    link: {
                        'coupang': 'https://www.coupang.com/vp/products/8709848487'
                    },
                    images: [
                        './guide_images/YL-HF10/YL-HF10_01.jpg',
                        './guide_images/YL-HF10/YL-HF10_02.jpg',
                        './guide_images/YL-HF10/YL-HF10_03.jpg',
                        './guide_images/YL-HF10/YL-HF10_04.jpg',
                        './guide_images/YL-HF10/YL-HF10_05.jpg',
                        './guide_images/YL-HF10/YL-HF10_06.jpg',
                        './guide_images/YL-HF10/YL-HF10_07.jpg',
                    ]
                },
                {
                    name: 'YL-DF101 [ 유선 탁상 선풍기 ]',
                    link: {
                        'coupang': 'https://www.coupang.com/vp/products/8799255430'
                    },
                    images: [
                        './guide_images/YL-DF101/YL-DF101.jpg',
                    ]
                },
                {
                    name: 'YL-DF102 [ 무선 탁상 선풍기 ]',
                    link: {
                        'coupang': 'https://www.coupang.com/vp/products/8769753259'
                    },
                    images: [
                        './guide_images/YL-DF102/YL-DF102.jpg',
                    ]
                },
                {
                    name: 'YL-FC03 [ 에어컨 손 선풍기 ]',
                    link: {
                        'coupang': 'https://www.coupang.com/vp/products/8880167003'
                    },
                    images: [
                        './guide_images/YL-FC03/YL-FC03_01.jpg',
                    ]
                } 
                ,
                {
                    name: 'YL-SCFB1 [ 휴대용 진동클렌저 ]',
                    link: {},
                    images: [
                        './guide_images/YL-SCFB1/YL-SCFB1_1.jpg',
                        './guide_images/YL-SCFB1/YL-SCFB1_2.jpg',
                    ]
                } 
            ];

            // 모델 리스트 초기 렌더링
            function renderModelList(items) {
                const $modelList = $('#modelList');
                $modelList.empty();
                
                items.forEach(item => {
                    //모델과 명칭 분리
                    const model = item.name.split('[')[0];
                    const name = item.name.split('[')[1].split(']')[0];
                    const elItem = '<span class="model-code">'+model+'</span> <span class="model-name">'+name+'</span>';
                    $('<li>')
                        .addClass('px-1 py-2 border-b text-sm mx-4 border-gray-200 hover:bg-gray-100 cursor-pointer transition-colors')
                        .html(elItem)
                        .data('model', item) // 모델 데이터를 요소에 저장
                        .appendTo($modelList);
                });
            }

            // 모델 리스트 클릭 이벤트
            $('#modelList').on('click', 'li', function() {
                const model = $(this).data('model'); 
                loadImages(model);
                
                // 모바일에서 사이드바 닫기
                if ($(window).width() < 768) {
                    $('#sidebar').addClass('-translate-x-full');
                }
            });

            function loadImages(model) {
                const $imageContainer = $('#imageContainer');
                $imageContainer.empty();
                $('#modelLink').hide();
                $('#currentModel').text(`${model.name}`);
                if(model.link.coupang) {
                    const btnLink = $('<a>')    
                        .attr('href', model.link.coupang)
                        .attr('target', '_blank')
                        .addClass('text-sm flex items-center')
                        .html('<img src="./icon_coupang.png" alt="coupang" class="h-5 mr-2 inline-block"> 바로가기');
                    $('#modelLink').show().html(btnLink);
                }
                model.images.forEach(imagePath => {
                    $('<div>')
                        .addClass('bg-white p-4 rounded-lg shadow')
                        .append(
                            $('<img>')
                                .attr({
                                    src: imagePath,
                                    alt: `${model.name} 사용설명서`
                                })
                                .addClass('h-auto object-contain')
                        )
                        .appendTo($imageContainer);
                });
            }

            // 검색 기능
            $('#modelSearch').on('input', function() {
                const searchText = $(this).val().toLowerCase();
                
                // 검색어에 맞는 모델 필터링
                const filteredModels = modelItems.filter(item => 
                    item.name.toLowerCase().includes(searchText)
                );

                // 필터링된 모델로 리스트 다시 렌더링
                renderModelList(filteredModels);

                // 검색 결과가 없을 때 메시지 표시
                if (filteredModels.length === 0) {
                    $('<div>')
                        .attr('id', 'noResults')
                        .addClass('px-4 py-2 text-gray-500 text-center')
                        .text('검색 결과가 없습니다')
                        .appendTo('#modelList');
                }
            });

            // 검색창 클리어 버튼 추가
            const $clearButton = $('<button>')
                .html('<i class="bx bx-x"></i>')
                .addClass('absolute right-8 top-2.5 text-gray-400 hover:text-gray-600 hidden')
                .insertAfter('#modelSearch');

            // 검색어가 있을 때만 클리어 버튼 표시
            $('#modelSearch').on('input', function() {
                $clearButton.toggleClass('hidden', !$(this).val());
            });

            // 클리어 버튼 클릭 시 검색어 초기화
            $clearButton.click(function() {
                $('#modelSearch')
                    .val('')
                    .trigger('input');
            });

            // 애니메이션 스타일 추가
            $('<style>')
                .text(`
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    .animate-fade-in {
                        animation: fadeIn 0.3s ease-in-out;
                    }
                `)
                .appendTo('head');

            // 초기 렌더링
            renderModelList(modelItems);
            
            // 첫 번째 모델의 이미지 로드
            loadImages(modelItems[0]);
        });
    </script>
</body>
</html>
